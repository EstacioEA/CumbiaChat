<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cumbia Chat</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #messages { height: 300px; border: 1px solid #ccc; overflow-y: scroll; padding: 10px; }
        #input-area { display: flex; gap: 10px; }
        button { padding: 5px 10px; }
    </style>
</head>
<body>
<h1>Cumbia Chat</h1>
<div id="messages"></div>
<div id="input-area">
    <input type="text" id="messageInput" placeholder="Escribe tu mensaje..." />
    <button onclick="sendMessage()">Enviar</button>
    <button onclick="disconnect()">Salir</button>
</div>

<script>
    const socket = new WebSocket("ws://localhost:8080/chat");

    socket.onopen = () => {
        document.getElementById("messages").innerHTML += "<p><strong> Conectado al servidor</strong></p>";
    };

    socket.onmessage = (event) => {
        document.getElementById("messages").innerHTML += `<p>${event.data}</p>`;
    };

    socket.onclose = () => {
        document.getElementById("messages").innerHTML += "<p><strong> Desconectado</strong></p>";
    };

    function sendMessage() {
        const input = document.getElementById("messageInput");
        const message = input.value;
        if (message.trim()) {
            socket.send(message);
            input.value = "";
        }
    }

    function disconnect() {
        socket.close();
    }
</script>
</body>
</html>